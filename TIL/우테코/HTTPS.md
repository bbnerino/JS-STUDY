1. HTTP 전송
암호화하지 않은 데이터를 비 정상적인 사용자가 데이터를 가로챈다면, 읽을 수 없게 해야한다. 

2. HTTPS 권장

HTTP 로 접근을 하지만 HSTS 를 통해 리다이렉트 되어 HTTPS 로 접근이 되게 된다. 


3. SSL/TLS
데이터를 암호화하는 통신 프로토콜 
**Secure Socket Layer**  - 구버전
**Transport Layer Security ** - 신버전 

- 데이터를 암호화하여 제 3자가 데이터를 볼 수 없게 보호한다. 
- 데이터 변조 여부를 검증한다.
- 상호 인증을 지원한다.


HTTP    : HTTP - TCP - IP 순으로 데이터가 전송 
HTTPS :  HTTP - SSL/TLS - TCP - IP  

SSL/TLS 가 추가됨으로 시간 지연이 일어난다.
- 데이터 기밀성 : 어떻게 암호화 
- 데이터의 무결성 : 데이터가 조작되지 않은 것을 알 수 있는 법
- 통신 상대 인증  : 통신 상대를 신뢰할 수 있나



----

4. HTTPS 사용 이유 3가지 

1. 데이터 기밀성 
대칭키 암호화 : 대칭키를 통해 메시지를 암호화하면, 똑같은 키로 복호화하여 다시 받는다.

비대칭키 암호화 : 메시지를 공개키로 암호화하고, 개인키로 복호화한다.

2. 무결성 
  데이터 변질 여부 확인 
  암호화 해시 함수 : 클라이언트에서 메시지를 암호화 해시를 해서 서버로 같이 보내주게 된다. 서버에서 받은 메시지를 확인하여 암호화 해시 함수를 통해 이 값이 같은지 확인해준다. 

3. 통신 상대 인증 
인증 기관 
서버가 서버 정보를 인증 기관에 넘기고, 인증서를 만들고 서버에 인증서를 보내준다.
서버는 클라이언트에게 서버 인증서를 보내준다. 



5. HTTPS 통신 흐름

1. 서버가 인증 기관에 '서버정보, 서버 공개키' 를 보냅니다. 
2. 서버에서 'CA 개인키'를 통해 암호화 하여 'SSL 인증서'로 만들어 서버로 보냅니다.

(CA 개인키로 SSL 인증서를 만들어 서버로 전송)

3. 인증기관은 'CA 공개키'를 클라이언트에게 넘겨줍니다.

(CA 공개키를 클라이언트가 소유)

4. 클라이언트가 서버에 요청을 하면, 서버에서 SSL 인증서를 넘겨줍니다.

(CA 공개키로 SSL 인증서 복호화 가능)

5. 클라이언트가 SSL 인증서를 복호화 하여 "사이트 정보와 서버 공개키"  소유 

6. 클라이언트가 "클라이언트 대칭키"를  만들고," 서버 공개키"로 암호화  하여 서버로 전송

(서버의 "서버 공개키" 로 암호화된 "클라이언트 대칭키" 복호화 가능)

7. "클라이언트 대칭키"를 통해 서로의 메시지를 받을 수 있다. 
